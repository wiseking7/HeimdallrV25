<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:ctrls="clr-namespace:Heimdallr.UI.Controls">

  <ResourceDictionary.MergedDictionaries>
    <ResourceDictionary Source="/Heimdallr.UI;component/Styles/Colors/Color.xaml" />
  </ResourceDictionary.MergedDictionaries>

  <!-- 컨텍스트 메뉴 스타일 -->
  <Style TargetType="{x:Type ctrls:HeimdallrContextMenu}" BasedOn="{StaticResource {x:Type ContextMenu}}">
    <Setter Property="SnapsToDevicePixels" Value="True"/>
    <Setter Property="Background" Value="{StaticResource DarkEbony}" />
    <Setter Property="Foreground" Value="{StaticResource DarkWhite}" />
    <Setter Property="HasDropShadow" Value="True"/>
    <Setter Property="BorderBrush" Value="{StaticResource DarkBlue}" />
    <Setter Property="CornerRadius" Value="7" />
    <Setter Property="BorderThickness" Value="0" />
    <Setter Property="BackgroundColor" Value="{StaticResource DarkEbony}" />

    <!-- Opacity Setter 는 Setters 컬렉션 안에 -->
    <Setter Property="Opacity" Value="0" />

    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type ctrls:HeimdallrContextMenu}">
          <Border CornerRadius="{TemplateBinding CornerRadius}"
                  Background="{TemplateBinding BackgroundColor}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}"
                  SnapsToDevicePixels="True"
                  UseLayoutRounding="True">
            
            <StackPanel IsItemsHost="True"
                        KeyboardNavigation.DirectionalNavigation="Cycle" 
                        KeyboardNavigation.TabNavigation="Continue"/>
          </Border>
        </ControlTemplate>
      </Setter.Value>
    </Setter>

    <!-- 트리거는 Style.Triggers로 별도 지정 -->
    <Style.Triggers>
      <Trigger Property="IsOpen" Value="True">
        <Trigger.EnterActions>
          <BeginStoryboard>
            <Storyboard >
              <DoubleAnimation Storyboard.TargetProperty="Opacity"
                             From="0" To="1"
                             Duration="0:0:0.2" />
            </Storyboard>
          </BeginStoryboard>
        </Trigger.EnterActions>

        <Trigger.ExitActions>
          <BeginStoryboard>
            <Storyboard >
              <DoubleAnimation Storyboard.TargetProperty="Opacity"
                             From="1" To="0"
                             Duration="0:0:0.2" />
            </Storyboard>
          </BeginStoryboard>
        </Trigger.ExitActions>
      </Trigger>
    </Style.Triggers>
  </Style>
  <!--#endregion-->
</ResourceDictionary>